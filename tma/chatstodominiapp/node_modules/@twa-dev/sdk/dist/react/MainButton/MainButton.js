"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MainButton = void 0;
var react_1 = require("react");
var sdk_1 = require("../../sdk");
var mainButton = sdk_1.WebApp.MainButton;
var _a = sdk_1.WebApp.themeParams, button_color = _a.button_color, button_text_color = _a.button_text_color;
var MainButton = function (_a) {
    var disabled = _a.disabled, color = _a.color, textColor = _a.textColor, text = _a.text, onClick = _a.onClick, progress = _a.progress;
    (0, react_1.useEffect)(function () {
        return function () {
            mainButton.hide();
            mainButton.enable();
            mainButton.hideProgress();
            mainButton.setParams({
                color: button_color,
                text_color: button_text_color,
            });
        };
    }, []);
    (0, react_1.useEffect)(function () {
        if (typeof progress === "boolean") {
            if (progress) {
                mainButton.showProgress();
                mainButton.disable();
            }
            else {
                mainButton.hideProgress();
            }
        }
        if (typeof disabled === "boolean") {
            disabled || progress ? mainButton.disable() : mainButton.enable();
        }
    }, [disabled, progress]);
    (0, react_1.useEffect)(function () {
        if (color || textColor) {
            mainButton.setParams({ color: color, text_color: textColor });
        }
    }, [color, textColor]);
    (0, react_1.useEffect)(function () {
        if (text) {
            mainButton.setText(text);
            !mainButton.isVisible && mainButton.show();
        }
        else if (mainButton.isVisible) {
            mainButton.hide();
        }
    }, [text]);
    (0, react_1.useEffect)(function () {
        if (onClick) {
            sdk_1.WebApp.MainButton.onClick(onClick);
            return function () {
                sdk_1.WebApp.MainButton.offClick(onClick);
            };
        }
    }, [onClick]);
    return null;
};
exports.MainButton = MainButton;
//# sourceMappingURL=MainButton.js.map